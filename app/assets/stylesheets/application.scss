// "bootstrap-sprockets" must be imported before "bootstrap" and "bootstrap/variables"
@import "bootstrap-sprockets";
@import "bootstrap";
@import "font-awesome-sprockets";
@import "font-awesome";
@import "check-awesome";
@import "font-bzar";
@import "nprogress";
@import "nprogress-bootstrap";
// @import "nprogress-turbolinks5";
@import "rails_bootstrap_forms";

@mixin cross-browser-opacity($op) {
  /* IE 8 */
  -ms-filter: "progid:DXImageTransform.Microsoft.Alpha(Opacity=#{$op*100})";
  /* IE 5-7 */
  filter: alpha(opacity=$op * 100);
  /* Netscape */
  -moz-opacity: $op;
  /* Safari 1.x */
  -khtml-opacity: $op;
  /* Good browsers */
  opacity: $op;
}

@mixin cross-browser-transition($op1, $op2, $op3, $op4) {
  -webkit-transition: $op1 $op2 $op3 $op4;
  -moz-transition: $op1 $op2 $op3 $op4;
  -o-transition: $op1 $op2 $op3 $op4;
  transition: $op1 $op2 $op3 $op4;
}

@mixin cross-browser-transform($op1) {
  -webkit-transform: $op1;
  -moz-transform: $op1;
  -o-transform: $op1;
  transform: $op1;
}

.fa { vertical-align: middle; padding: 0 5px 0 5px; }

.ir-font { 
  font-family: BZar,'BZar', "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 17px;
}

.en-font {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  font-size: 14px;
}

.ir { direction: rtl; text-align: right; }
.en { direction: ltr; text-align: left; @extent .en-font }

// make the modal be above everything, specially PhotoSwipe!
.modal { z-index: 10000 }
.modal-backdrop { z-index: 9999 }

body {
  // assign the .ir-font to whole body
  & { @extend .ir-font; }
  
  #page-alerts {
    .alert {
      position: absolute;
      top: 30px;
      left: 10px;
      right: 10px;
      z-index: 1000;
      @include cross-browser-opacity(0.95);
    }
  }
  
  .block {
      background-color: #fafafa;
      border: 1px solid #e7e7e7; 
      margin-bottom: 10px;
      padding: 30px;
  }
  
  #nprogress {
    .spinner-left {
      @extend .spinner;
      left: 15px!important;
      right: auto!important;
    }
  }
  
  .empty-collection {
    border: 1px solid #eee;
    text-align: center;
    width: 100%;
    padding: 13px;
    min-height: 50px;
    font-size: 15px
  }
  
  .field_with_errors {
    @extend .has-error;
  }
  
  div {
    .shared-links { float: left }
    .field { margin: 10px; }
  }
  
  textarea {
    // stop textarea to overflow on resize 
    max-width: 100%; 
  }
  
  dl {
    &.ir {
      dt { @extend .pull-right; }
      dd { margin-left: 10%; }
    }
  }
  
  .magnifiable
  {
      display:inline-block;
      border:0;
      background-color: tranparent;
      position: relative;
      @include cross-browser-transition(all, 200ms, ease-in, 0);
      @include cross-browser-transform(scale(1));
      transform: scale(1);   
  
  }
  .magnifiable-enabled
  {
      z-index: 2;
      @include cross-browser-transition(all, 200ms, ease-in, 0);
      @include cross-browser-transform(scale(1.15));
      font-weight: bold
  }
  
  .has-shopping-cart > a
  {
    color: green!important;
    @include cross-browser-transition(color, 500ms, ease-out, 200ms);
  }
  
  .img-wrap {
      & {
        position: relative;
        display: inline-block;
        font-size: 0;
      }
      .fa-times {
        position: absolute;
        top: 6px;
        right: 6px;
        z-index: 100;
        padding: 5px 2px 2px;
        color: red;
        font-weight: bold;
        cursor: pointer;
        text-align: center;
        font-size: 22px;
        line-height: 10px;
        border-radius: 50%;
        @include cross-browser-opacity(0.8);
      }
      
      .fa-times:hover {
        @include cross-browser-opacity(1);
      }
      &.fade {
        & { 
          @include cross-browser-opacity(0.3);
          @include cross-browser-transition(opacity, 1000ms, ease-out, 100ms)
        }
        a[data-remote] { cursor: default; display: none }
      } 
  }
  
  .alert {
    &.alert-default {
      border: 1px solid #aaa
    }
  }
}